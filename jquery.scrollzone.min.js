jQuery.fn.scrollZone=function(e){var t=function(e,t){if(jQuery.type(e)=="object"){e=jQuery.extend({id:false,active:true,repeatIn:false,repeatOut:false,onceIn:false,onceInActive:false,onceOutActive:true,onceOut:false,startX:Infinity,endX:Infinity,startY:Infinity,endY:Infinity},e);if(t.data("scrollZone")==undefined){t.data("scrollZone",[e]);t.bind("scroll.scrollZone",function(){var e=jQuery(this);jQuery.each(e.data("scrollZone"),function(){if(this.active){if(this.endY>=e.scrollTop()&&e.scrollTop()>=this.startY&&this.endX>=e.scrollLeft()&&e.scrollLeft()>=this.startX){if(this.repeatIn!=false){this.repeatIn(e,{id:this.id,scrollZone:this,objectTop:e.scrollTop(),objectLeft:e.scrollLeft(),toStart:{top:e.scrollTop()-this.startY,left:e.scrollLeft()-this.startX},toEnd:{top:this.endY-e.scrollTop(),left:this.endX-e.scrollLeft()}})}if(!this.onceInActive){this.onceInActive=true;this.onceOutActive=false;if(this.onceIn!=false){this.onceIn(e,{id:this.id,scrollZone:this,objectTop:e.scrollTop(),objectLeft:e.scrollLeft(),toStart:{top:e.scrollTop()-this.startY,left:e.scrollLeft()-this.startX},toEnd:{top:this.endY-e.scrollTop(),left:this.endX-e.scrollLeft()}})}}}else{if(this.repeatOut!=false){this.repeatOut(e,{id:this.id,scrollZone:this,objectTop:e.scrollTop(),objectLeft:e.scrollLeft(),toStart:{top:e.scrollTop()-this.startY,left:e.scrollLeft()-this.startX},toEnd:{top:this.endY-e.scrollTop(),left:this.endX-e.scrollLeft()}})}if(!this.onceOutActive){this.onceOutActive=true;this.onceInActive=false;if(this.onceOut!=false){this.onceOut(e,{id:this.id,scrollZone:this,objectTop:e.scrollTop(),objectLeft:e.scrollLeft(),toStart:{top:e.scrollTop()-this.startY,left:e.scrollLeft()-this.startX},toEnd:{top:this.endY-e.scrollTop(),left:this.endX-e.scrollLeft()}})}}}}})});jQuery(t).trigger("scroll.scrollZone")}else{var n=t.data("scrollZone");n.push(e);t.data("scrollZone",n);jQuery(t).trigger("scroll.scrollZone")}return e}else{console.error("Invalid argument for scrollZone. (Argument array contains non-object)");return undefined}};var n=undefined;switch(jQuery.type(e)){case"array":n=[];var r=jQuery(this);jQuery.each(e,function(){n.push(t(this,r))});break;case"object":n=t(e,jQuery(this));break;default:console.error("Invalid argument for scrollZone. (Argument isn't an object or array of objects)");break}return n};jQuery.fn.returnSZ=function(e){if(jQuery(this).data("scrollZone")){var t=[];jQuery.each(jQuery(this).data("scrollZone"),function(){if(this.id==e){t.push(this)}});return t}else{return[]}};jQuery.fn.removeSZ=function(e){if(e){var t=jQuery(this).returnSZ(e);var n=jQuery(this).data("scrollZone");jQuery.each(t,function(){n.splice(n.indexOf(this),1)})}else{var n=[]}jQuery(this).data("scrollZone",n);return jQuery(this)};jQuery.fn.pauseSZ=function(e){var t=e?jQuery(this).returnSZ(e):jQuery(this).data("scrollZone");jQuery.each(t,function(){this.active=false})};jQuery.fn.startSZ=function(e){var t=e?jQuery(this).returnSZ(e):jQuery(this).data("scrollZone");jQuery.each(t,function(){this.active=true})}
